{"ast":null,"code":"import React,{useState,useEffect}from'react';import{generateUniqueId}from'../utils/helpers';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const ClientRoutineList=_ref=>{let{client,routines,onSelectRoutine,onAddRoutine,isEditable,onDeleteRoutine,onUpdateRoutine}=_ref;const[newRoutineName,setNewRoutineName]=useState('');const[newRoutineStartDate,setNewRoutineStartDate]=useState('');const[newRoutineEndDate,setNewRoutineEndDate]=useState('');const[showAddRoutineForm,setShowAddRoutineForm]=useState(false);// Eliminamos expandedRoutineId y collapsedExercises de aquí, ya que el seguimiento se mueve a RoutineDetail\n// const [expandedRoutineId, setExpandedRoutineId] = useState(null); \n// const [collapsedExercises, setCollapsedExercises] = useState({}); \nconst handleAddRoutine=()=>{if(newRoutineName.trim()&&newRoutineStartDate&&newRoutineEndDate){const newRoutine={id:generateUniqueId(),clientId:client.id,name:newRoutineName,startDate:newRoutineStartDate,endDate:newRoutineEndDate,exercises:[]// Eliminamos weeklyData y generalNotes de aquí, ya que el seguimiento se mueve a RoutineDetail\n// weeklyData: {}, \n// generalNotes: {}, \n};onAddRoutine(newRoutine);setNewRoutineName('');setNewRoutineStartDate('');setNewRoutineEndDate('');setShowAddRoutineForm(false);}else{alert('Por favor, completa todos los campos para la nueva rutina.');}};const calculateWeeks=(startDate,endDate)=>{const start=new Date(startDate);const end=new Date(endDate);const diffTime=Math.abs(end-start);const diffDays=Math.ceil(diffTime/(1000*60*60*24));return Math.ceil(diffDays/7);};// Eliminamos handleDataChange y handleGeneralNoteChange de aquí\n// const handleDataChange = (routineId, weekIndex, exerciseName, field, value) => { ... };\n// const handleGeneralNoteChange = (routineId, weekIndex, value) => { ... };\n// Eliminamos toggleExerciseCollapse de aquí\n// const toggleExerciseCollapse = (exerciseId) => { ... };\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 bg-white rounded-2xl shadow-md\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-6\",children:[\"Rutinas de \",client.name]}),routines.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-center py-4\",children:\"No hay rutinas asignadas a este cliente a\\xFAn.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:routines.map(routine=>{// Eliminamos numWeeks y weeksArray de aquí, ya que el seguimiento se mueve a RoutineDetail\n// const numWeeks = routine.startDate && routine.endDate ? calculateWeeks(routine.startDate, routine.endDate) : 0;\n// const weeksArray = Array.from({ length: numWeeks }, (_, i) => i + 1);\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-xl shadow-sm border border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-700\",children:routine.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>onSelectRoutine(routine),className:\"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-colors font-semibold shadow-md\",children:\"Ver Detalles\"}),isEditable&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDeleteRoutine(routine.id),className:\"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors font-semibold shadow-md\",children:\"Eliminar\"})]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Periodo: \",routine.startDate,\" - \",routine.endDate]})]},routine.id);})}),isEditable&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddRoutineForm(!showAddRoutineForm),className:\"w-full bg-black text-white py-3 rounded-xl hover:bg-gray-800 transition-colors font-semibold shadow-md\",children:showAddRoutineForm?'Cancelar':'Agregar Nueva Rutina'}),showAddRoutineForm&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-gray-50 rounded-xl shadow-sm border border-gray-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-700 mb-4\",children:\"Nueva Rutina\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Nombre de la Rutina:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newRoutineName,onChange:e=>setNewRoutineName(e.target.value),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\",placeholder:\"Ej. Rutina de Fuerza - Mes 1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Fecha de Inicio:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:newRoutineStartDate,onChange:e=>setNewRoutineStartDate(e.target.value),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Fecha de Fin:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:newRoutineEndDate,onChange:e=>setNewRoutineEndDate(e.target.value),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddRoutine,className:\"w-full bg-blue-600 text-white py-3 rounded-xl hover:bg-blue-700 transition-colors font-semibold shadow-md\",children:\"Crear Rutina\"})]})]})]});};export default ClientRoutineList;","map":{"version":3,"names":["React","useState","useEffect","generateUniqueId","jsxs","_jsxs","jsx","_jsx","ClientRoutineList","_ref","client","routines","onSelectRoutine","onAddRoutine","isEditable","onDeleteRoutine","onUpdateRoutine","newRoutineName","setNewRoutineName","newRoutineStartDate","setNewRoutineStartDate","newRoutineEndDate","setNewRoutineEndDate","showAddRoutineForm","setShowAddRoutineForm","handleAddRoutine","trim","newRoutine","id","clientId","name","startDate","endDate","exercises","alert","calculateWeeks","start","Date","end","diffTime","Math","abs","diffDays","ceil","className","children","length","map","routine","onClick","type","value","onChange","e","target","placeholder"],"sources":["C:/Users/feder/OneDrive/Escritorio/DS_entrenamiento/src/components/ClientRoutineList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { generateUniqueId } from '../utils/helpers';\n\nconst ClientRoutineList = ({ client, routines, onSelectRoutine, onAddRoutine, isEditable, onDeleteRoutine, onUpdateRoutine }) => {\n  const [newRoutineName, setNewRoutineName] = useState('');\n  const [newRoutineStartDate, setNewRoutineStartDate] = useState('');\n  const [newRoutineEndDate, setNewRoutineEndDate] = useState('');\n  const [showAddRoutineForm, setShowAddRoutineForm] = useState(false);\n  // Eliminamos expandedRoutineId y collapsedExercises de aquí, ya que el seguimiento se mueve a RoutineDetail\n  // const [expandedRoutineId, setExpandedRoutineId] = useState(null); \n  // const [collapsedExercises, setCollapsedExercises] = useState({}); \n\n  const handleAddRoutine = () => {\n    if (newRoutineName.trim() && newRoutineStartDate && newRoutineEndDate) {\n      const newRoutine = {\n        id: generateUniqueId(),\n        clientId: client.id,\n        name: newRoutineName,\n        startDate: newRoutineStartDate,\n        endDate: newRoutineEndDate,\n        exercises: [],\n        // Eliminamos weeklyData y generalNotes de aquí, ya que el seguimiento se mueve a RoutineDetail\n        // weeklyData: {}, \n        // generalNotes: {}, \n      };\n      onAddRoutine(newRoutine);\n      setNewRoutineName('');\n      setNewRoutineStartDate('');\n      setNewRoutineEndDate('');\n      setShowAddRoutineForm(false);\n    } else {\n      alert('Por favor, completa todos los campos para la nueva rutina.');\n    }\n  };\n\n  const calculateWeeks = (startDate, endDate) => {\n    const start = new Date(startDate);\n    const end = new Date(endDate);\n    const diffTime = Math.abs(end - start);\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    return Math.ceil(diffDays / 7);\n  };\n\n  // Eliminamos handleDataChange y handleGeneralNoteChange de aquí\n  // const handleDataChange = (routineId, weekIndex, exerciseName, field, value) => { ... };\n  // const handleGeneralNoteChange = (routineId, weekIndex, value) => { ... };\n\n  // Eliminamos toggleExerciseCollapse de aquí\n  // const toggleExerciseCollapse = (exerciseId) => { ... };\n\n  return (\n    <div className=\"p-6 bg-white rounded-2xl shadow-md\">\n      <h2 className=\"text-2xl font-bold text-gray-800 mb-6\">Rutinas de {client.name}</h2>\n\n      {routines.length === 0 ? (\n        <p className=\"text-gray-600 text-center py-4\">No hay rutinas asignadas a este cliente aún.</p>\n      ) : (\n        <div className=\"space-y-4\">\n          {routines.map((routine) => {\n            // Eliminamos numWeeks y weeksArray de aquí, ya que el seguimiento se mueve a RoutineDetail\n            // const numWeeks = routine.startDate && routine.endDate ? calculateWeeks(routine.startDate, routine.endDate) : 0;\n            // const weeksArray = Array.from({ length: numWeeks }, (_, i) => i + 1);\n\n            return (\n              <div key={routine.id} className=\"bg-gray-50 p-4 rounded-xl shadow-sm border border-gray-200\">\n                <div className=\"flex justify-between items-center mb-2\">\n                  <h3 className=\"text-xl font-semibold text-gray-700\">{routine.name}</h3>\n                  <div className=\"flex space-x-2\">\n                    <button\n                      onClick={() => onSelectRoutine(routine)}\n                      className=\"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-colors font-semibold shadow-md\"\n                    >\n                      Ver Detalles\n                    </button>\n                    {isEditable && (\n                      <button\n                        onClick={() => onDeleteRoutine(routine.id)}\n                        className=\"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors font-semibold shadow-md\"\n                      >\n                        Eliminar\n                      </button>\n                    )}\n                  </div>\n                </div>\n                <p className=\"text-sm text-gray-600\">\n                  Periodo: {routine.startDate} - {routine.endDate}\n                  {/* Eliminamos la visualización de semanas aquí */}\n                  {/* ({numWeeks} semanas) */}\n                </p>\n\n                {/* Eliminamos la sección de Seguimiento de aquí */}\n                {/* {numWeeks > 0 && ( ... )} */}\n              </div>\n            );\n          })}\n        </div>\n      )}\n\n      {isEditable && (\n        <div className=\"mt-6\">\n          <button\n            onClick={() => setShowAddRoutineForm(!showAddRoutineForm)}\n            className=\"w-full bg-black text-white py-3 rounded-xl hover:bg-gray-800 transition-colors font-semibold shadow-md\"\n          >\n            {showAddRoutineForm ? 'Cancelar' : 'Agregar Nueva Rutina'}\n          </button>\n\n          {showAddRoutineForm && (\n            <div className=\"mt-4 p-4 bg-gray-50 rounded-xl shadow-sm border border-gray-200\">\n              <h3 className=\"text-xl font-bold text-gray-700 mb-4\">Nueva Rutina</h3>\n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Nombre de la Rutina:</label>\n                <input\n                  type=\"text\"\n                  value={newRoutineName}\n                  onChange={(e) => setNewRoutineName(e.target.value)}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n                  placeholder=\"Ej. Rutina de Fuerza - Mes 1\"\n                />\n              </div>\n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Fecha de Inicio:</label>\n                <input\n                  type=\"date\"\n                  value={newRoutineStartDate}\n                  onChange={(e) => setNewRoutineStartDate(e.target.value)}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n                />\n              </div>\n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Fecha de Fin:</label>\n                <input\n                  type=\"date\"\n                  value={newRoutineEndDate}\n                  onChange={(e) => setNewRoutineEndDate(e.target.value)}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n                />\n              </div>\n              <button\n                onClick={handleAddRoutine}\n                className=\"w-full bg-blue-600 text-white py-3 rounded-xl hover:bg-blue-700 transition-colors font-semibold shadow-md\"\n              >\n                Crear Rutina\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ClientRoutineList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}