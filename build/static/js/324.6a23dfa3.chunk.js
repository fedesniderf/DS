"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[324],{324:(e,s,a)=>{a.r(s),a.d(s,{default:()=>n});var l=a(43),t=a(579);const n=e=>{let{routine:s,onUpdateRoutine:a=()=>{},isEditable:n,onAddExerciseClick:r=()=>{},canAddDailyTracking:i=!1}=e;console.log("RoutineDetail - routine recibida:",s),console.log("RoutineDetail - routine.id:",null===s||void 0===s?void 0:s.id);const[o,d]=l.useState(!1),[c,u]=l.useState(null),[m,x]=l.useState(""),[h,p]=l.useState(""),[g,v]=l.useState(""),[b,j]=l.useState(""),[f,N]=l.useState(""),[y,w]=l.useState(""),[k,S]=l.useState(""),[C,D]=l.useState(""),[L,E]=l.useState(""),M=e=>{u(e),x(e.name||""),p(e.sets||""),v(e.reps||""),j(e.weight||""),N(e.time||""),w(e.rest||""),S(e.day||""),D(e.section||""),E(e.media||""),d(!0)},I=()=>{if(!s.startDate||!s.endDate)return[];const e=new Date(s.startDate),a=new Date(s.endDate),l=Math.abs(a-e),t=Math.ceil(l/864e5),n=Math.max(1,Math.ceil(t/7));return Array.from({length:n},(e,s)=>({value:(s+1).toString(),label:`Semana ${s+1}`}))},A=Array.isArray(s.exercises)?s.exercises:[],[P,R]=l.useState(()=>{const e=new Set;return A.forEach(s=>{const a=s.day||"Sin d\xeda";e.add(a)}),e}),T=e=>(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-2 text-sm text-gray-700",children:[e.sets&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Series:"})," ",e.sets]}),e.reps&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Reps:"})," ",e.reps]}),e.time&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Tiempo (seg):"})," ",e.time]}),e.rest&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Descanso (seg):"})," ",e.rest]}),e.weight&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Peso (Kg):"})," ",e.weight]})]}),[W,_]=l.useState(()=>{const e=new Set;return A.forEach(s=>{const a=s.day||"Sin d\xeda",l=s.section||"Sin secci\xf3n";e.add(`${a}-${l}`)}),e}),[F,O]=l.useState(!1),[B,z]=l.useState(null),[$,H]=l.useState(""),[V,Z]=l.useState(""),[U,G]=l.useState(""),[K,J]=l.useState(new Set),[q,Q]=l.useState(!1),[X,Y]=l.useState(""),[ee,se]=l.useState(""),[ae,le]=l.useState(""),[te,ne]=l.useState(!1),[re,ie]=l.useState(""),[oe,de]=l.useState(""),[ce,ue]=l.useState(""),[me,xe]=l.useState(""),he=e=>{const s=new Set(W);s.has(e)?s.delete(e):s.add(e),_(s)},pe=e=>{if(!s.startDate||!s.endDate)return null;const a=I(),l=K.has(e.id),n=(e=>{if(!e.weeklyData)return 0;const s=Object.values(e.weeklyData).map(e=>parseFloat(e.weight)||0).filter(e=>e>0);return s.length>0?Math.max(...s):0})(e);return(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between cursor-pointer p-2 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",onClick:()=>(e=>{const s=new Set(K);s.has(e)?s.delete(e):s.add(e),J(s)})(e.id),children:[(0,t.jsxs)("h6",{className:"text-sm font-semibold text-purple-700",children:["Seguimiento Semanal ",n>0&&`(M\xe1ximo: ${n} kg)`]}),(0,t.jsx)("svg",{className:"w-4 h-4 text-purple-700 transform transition-transform "+(l?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),!l&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsxs)("table",{className:"w-full text-sm border border-purple-300 rounded-lg overflow-hidden",children:[(0,t.jsx)("thead",{className:"bg-purple-100",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-2 py-1",children:"Semana"}),(0,t.jsx)("th",{className:"px-2 py-1",children:"Peso (kg)"}),(0,t.jsx)("th",{className:"px-2 py-1",children:"Notas"}),(0,t.jsx)("th",{className:"px-2 py-1",children:"Fecha"})]})}),(0,t.jsx)("tbody",{children:a.map(s=>{var a;const l=null===(a=e.weeklyData)||void 0===a?void 0:a[s.value];return(0,t.jsxs)("tr",{className:"border-t",children:[(0,t.jsx)("td",{className:"px-2 py-1 font-medium",children:s.label}),(0,t.jsx)("td",{className:"px-2 py-1",children:null!==l&&void 0!==l&&l.weight?`${l.weight} kg`:"-"}),(0,t.jsx)("td",{className:"px-2 py-1",children:(null===l||void 0===l?void 0:l.generalNotes)||"-"}),(0,t.jsx)("td",{className:"px-2 py-1 text-xs text-gray-500",children:(null===l||void 0===l?void 0:l.date)||"-"})]},s.value)})})]}),n>0&&(0,t.jsx)("div",{className:"mt-2 p-2 bg-green-50 rounded text-sm",children:(0,t.jsxs)("span",{className:"font-semibold text-green-700",children:["Mayor peso levantado: ",n," kg"]})})]})]})},ge=e=>{z(e),H(""),Z(""),G(""),O(!0)},ve=()=>{O(!1),z(null),H(""),Z(""),G("")},be=()=>{Q(!1),Y(""),se(""),le("")},je=()=>{ne(!1),ie(""),de(""),ue(""),xe("")};let fe=null;if(0===A.length)fe=(0,t.jsx)("p",{className:"text-gray-600 text-center py-4",children:"No hay ejercicios para seguimiento."});else{const e=A.reduce((e,s)=>{const a=s.day||"Sin d\xeda";e[a]||(e[a]={});const l=s.section||"Sin secci\xf3n";return e[a][l]||(e[a][l]=[]),e[a][l].push(s),e},{}),s=["Warm Up","Trabajo DS","Out"];fe=["1","2","3","4","5","6","7"].filter(s=>e[s]).concat(Object.keys(e).filter(e=>!["1","2","3","4","5","6","7"].includes(e))).map(a=>(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between cursor-pointer p-3 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",onClick:()=>(e=>{const s=new Set(P);s.has(e)?s.delete(e):s.add(e),R(s)})(a),children:[(0,t.jsx)("h4",{className:"text-lg font-bold text-blue-700",children:["1","2","3","4","5","6","7"].includes(a)?`D\xeda ${a}`:"Sin d\xeda asignado"}),(0,t.jsx)("svg",{className:"w-5 h-5 text-blue-700 transform transition-transform "+(P.has(a)?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),!P.has(a)&&(0,t.jsxs)("div",{className:"mt-4",children:[s.map(s=>{if(!e[a][s])return null;const l=`${a}-${s}`;return(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between cursor-pointer p-2 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",onClick:()=>he(l),children:[(0,t.jsx)("h5",{className:"text-md font-semibold text-purple-700",children:s}),(0,t.jsx)("svg",{className:"w-4 h-4 text-purple-700 transform transition-transform "+(W.has(l)?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),!W.has(l)&&(0,t.jsx)("div",{className:"grid gap-4 mt-3",children:e[a][s].map(e=>(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl shadow",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h6",{className:"text-md font-semibold text-gray-800",children:e.name}),e.media&&(0,t.jsx)("button",{className:"p-1 rounded-full bg-blue-100 hover:bg-blue-200 text-blue-700 transition-colors",title:"Ver video del ejercicio",onClick:()=>window.open(e.media,"_blank"),children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"})]})})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[i&&(0,t.jsx)("button",{className:"p-1 rounded-full bg-purple-100 hover:bg-purple-200 text-purple-700",title:"Agregar seguimiento semanal",onClick:()=>ge(e),children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})})}),n&&(0,t.jsx)("button",{className:"p-1 rounded-full bg-blue-100 hover:bg-blue-200 text-blue-700",title:"Editar ejercicio",onClick:()=>M(e),children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})})})]})]}),T(e),pe(e)]},e.id))})]},s)}),Object.keys(e[a]).filter(e=>!s.includes(e)).map(s=>{const l=`${a}-${s}`;return(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between cursor-pointer p-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",onClick:()=>he(l),children:[(0,t.jsx)("h5",{className:"text-md font-semibold text-gray-700",children:s}),(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-700 transform transition-transform "+(W.has(l)?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),!W.has(l)&&(0,t.jsx)("div",{className:"grid gap-4 mt-3",children:e[a][s].map(e=>(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl shadow",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h6",{className:"text-md font-semibold text-gray-800",children:e.name}),e.media&&(0,t.jsx)("button",{className:"p-1 rounded-full bg-blue-100 hover:bg-blue-200 text-blue-700 transition-colors",title:"Ver video del ejercicio",onClick:()=>window.open(e.media,"_blank"),children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"})]})})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[i&&(0,t.jsx)("button",{className:"p-1 rounded-full bg-purple-100 hover:bg-purple-200 text-purple-700",title:"Agregar seguimiento semanal",onClick:()=>ge(e),children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})})}),n&&(0,t.jsx)("button",{className:"p-1 rounded-full bg-blue-100 hover:bg-blue-200 text-blue-700",title:"Editar ejercicio",onClick:()=>M(e),children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})})})]})]}),T(e),pe(e)]},e.id))})]},s)})]})]},a))}return(0,t.jsxs)("div",{className:"p-6 bg-white rounded-2xl shadow-md",children:[(0,t.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-gray-700",children:"Informaci\xf3n de la rutina"}),n&&((null===s||void 0===s?void 0:s.id)||(null===s||void 0===s?void 0:s.routine_id)||(null===s||void 0===s?void 0:s.client_id))&&(0,t.jsx)("button",{onClick:()=>{ie(s.name||""),de(s.startDate||""),ue(s.endDate||""),xe(s.description||""),ne(!0)},className:"p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors shadow-md",title:"Editar informaci\xf3n de rutina",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold text-gray-700",children:"Fecha de inicio:"}),(0,t.jsx)("p",{className:"text-gray-600",children:s.startDate?new Date(s.startDate).toLocaleDateString():"No definida"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold text-gray-700",children:"Fecha de fin:"}),(0,t.jsx)("p",{className:"text-gray-600",children:s.endDate?new Date(s.endDate).toLocaleDateString():"No definida"})]})]}),s.description&&""!==s.description.trim()&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("span",{className:"font-semibold text-gray-700",children:"Descripci\xf3n:"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:s.description})]})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-700",children:"Ejercicios"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[i&&(0,t.jsxs)("button",{onClick:()=>{Y((new Date).toISOString().split("T")[0]),se(""),le(""),Q(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold shadow-md flex items-center",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5 mr-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5a2.25 2.25 0 0 0 2.25-2.25m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5a2.25 2.25 0 0 1 21 9v7.5m-9-13.5h.008v.008H12V8.25Z"})}),"PF y PE"]}),n&&(0,t.jsx)("button",{onClick:()=>r(),className:"p-2 bg-green-600 text-white rounded-full hover:bg-green-700 transition-colors shadow-md",title:"Agregar Ejercicio",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})})]})]}),fe,s.dailyTracking&&Object.keys(s.dailyTracking).length>0&&(0,t.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[(0,t.jsx)("h4",{className:"text-lg font-bold text-blue-700 mb-4",children:"Percepciones"}),(0,t.jsx)("div",{className:"max-h-40 overflow-y-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm border border-blue-300 rounded-lg overflow-hidden",children:[(0,t.jsx)("thead",{className:"bg-blue-100",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-3 py-2",children:"Fecha"}),(0,t.jsx)("th",{className:"px-3 py-2",children:"PF (0-5)"}),(0,t.jsx)("th",{className:"px-3 py-2",children:"PE (0-5)"})]})}),(0,t.jsx)("tbody",{children:Object.entries(s.dailyTracking).sort((e,s)=>{let[a]=e,[l]=s;return new Date(l)-new Date(a)}).map(e=>{let[s,a]=e;return(0,t.jsxs)("tr",{className:"border-t",children:[(0,t.jsx)("td",{className:"px-3 py-2",children:s}),(0,t.jsx)("td",{className:"px-3 py-2",children:a.pf}),(0,t.jsx)("td",{className:"px-3 py-2",children:a.pe})]},s)})})]})})]})]}),q&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-md",children:[(0,t.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Seguimiento Diario de la Rutina"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Registra tu percepci\xf3n de fatiga y esfuerzo"}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha del entrenamiento"}),(0,t.jsx)("input",{type:"date",className:"w-full border rounded px-3 py-2",value:X,onChange:e=>Y(e.target.value)})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Percepci\xf3n de Fatiga (PF): ",ee,"/5"]}),(0,t.jsxs)("select",{className:"w-full border rounded px-3 py-2",value:ee,onChange:e=>se(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Selecciona PF (0-5)"}),(0,t.jsx)("option",{value:"0",children:"0 - Sin fatiga"}),(0,t.jsx)("option",{value:"1",children:"1 - Muy poca fatiga"}),(0,t.jsx)("option",{value:"2",children:"2 - Poca fatiga"}),(0,t.jsx)("option",{value:"3",children:"3 - Fatiga moderada"}),(0,t.jsx)("option",{value:"4",children:"4 - Mucha fatiga"}),(0,t.jsx)("option",{value:"5",children:"5 - Fatiga extrema"})]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Percepci\xf3n de Esfuerzo (PE): ",ae,"/5"]}),(0,t.jsxs)("select",{className:"w-full border rounded px-3 py-2",value:ae,onChange:e=>le(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Selecciona PE (0-5)"}),(0,t.jsx)("option",{value:"0",children:"0 - Sin esfuerzo"}),(0,t.jsx)("option",{value:"1",children:"1 - Muy poco esfuerzo"}),(0,t.jsx)("option",{value:"2",children:"2 - Poco esfuerzo"}),(0,t.jsx)("option",{value:"3",children:"3 - Esfuerzo moderado"}),(0,t.jsx)("option",{value:"4",children:"4 - Mucho esfuerzo"}),(0,t.jsx)("option",{value:"5",children:"5 - Esfuerzo extremo"})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)("button",{className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",onClick:be,children:"Cancelar"}),(0,t.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{if(!X||!ee||!ae)return;const e=(null===s||void 0===s?void 0:s.id)||(null===s||void 0===s?void 0:s.routine_id)||(null===s||void 0===s?void 0:s.client_id);if(!e)return console.error("Error: ID de rutina no encontrado para seguimiento diario",s),void alert("Error: No se encontr\xf3 el ID de la rutina. Por favor, recarga la p\xe1gina.");const l={date:X,pf:parseInt(ee),pe:parseInt(ae),timestamp:(new Date).toISOString()};a({id:e,action:"addDailyRoutineTracking",data:l}),be()},disabled:!X||!ee||!ae,children:"Guardar"})]})]})}),F&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-md",children:[(0,t.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Agregar seguimiento semanal"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Ejercicio: ",(0,t.jsx)("span",{className:"font-semibold",children:null===B||void 0===B?void 0:B.name})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Semana del entrenamiento"}),(0,t.jsxs)("select",{className:"w-full border rounded px-3 py-2",value:$,onChange:e=>H(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Selecciona la semana"}),I().map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Peso levantado (kg)"}),(0,t.jsx)("input",{type:"number",step:"0.1",className:"w-full border rounded px-3 py-2",placeholder:"Ej: 50.5",value:V,onChange:e=>Z(e.target.value)})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Notas adicionales (",U.length,"/100)"]}),(0,t.jsx)("textarea",{className:"w-full border rounded px-3 py-2",placeholder:"Observaciones sobre el entrenamiento...",maxLength:100,rows:3,value:U,onChange:e=>G(e.target.value)})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)("button",{className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",onClick:ve,children:"Cancelar"}),(0,t.jsx)("button",{className:"px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600",onClick:()=>{if(!$||!B)return;const e=(null===s||void 0===s?void 0:s.id)||(null===s||void 0===s?void 0:s.routine_id)||(null===s||void 0===s?void 0:s.client_id);if(!e)return console.error("Error: ID de rutina no encontrado para seguimiento semanal",s),void alert("Error: No se encontr\xf3 el ID de la rutina. Por favor, recarga la p\xe1gina.");const l={week:$,weight:V,generalNotes:U,date:(new Date).toISOString().split("T")[0]};a({id:e,action:"addWeeklyTracking",data:{exerciseId:B.id,weeklyData:l}}),ve()},disabled:!$||!V,children:"Guardar"})]})]})}),te&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-md",children:[(0,t.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Editar informaci\xf3n de rutina"}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la rutina"}),(0,t.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",placeholder:"Nombre de la rutina",value:re,onChange:e=>ie(e.target.value)})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de inicio"}),(0,t.jsx)("input",{type:"date",className:"w-full border rounded px-3 py-2",value:oe,onChange:e=>de(e.target.value)})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de fin"}),(0,t.jsx)("input",{type:"date",className:"w-full border rounded px-3 py-2",value:ce,onChange:e=>ue(e.target.value)})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Descripci\xf3n (",me.length,"/250)"]}),(0,t.jsx)("textarea",{className:"w-full border rounded px-3 py-2",placeholder:"Descripci\xf3n de la rutina (m\xe1x 250 caracteres)",maxLength:250,rows:4,value:me,onChange:e=>xe(e.target.value)})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)("button",{className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",onClick:je,children:"Cancelar"}),(0,t.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{console.log("handleSaveRoutine - routine completa:",s),console.log("handleSaveRoutine - routine.id:",null===s||void 0===s?void 0:s.id),console.log("handleSaveRoutine - typeof routine.id:",typeof(null===s||void 0===s?void 0:s.id));const e=(null===s||void 0===s?void 0:s.id)||(null===s||void 0===s?void 0:s.routine_id)||(null===s||void 0===s?void 0:s.client_id);if(console.log("handleSaveRoutine - routineId encontrado:",e),!s||!e)return console.error("Error: ID de rutina no encontrado",s),void alert("Error: No se encontr\xf3 el ID de la rutina. Por favor, recarga la p\xe1gina.");const l={name:re,startDate:oe,endDate:ce,description:me};console.log("Guardando rutina:",{id:e,action:"updateRoutineInfo",data:l}),a({id:e,action:"updateRoutineInfo",data:l}),je()},children:"Guardar"})]})]})}),o&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-md",children:[(0,t.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Editar ejercicio"}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 w-24",children:"Nombre:"}),(0,t.jsx)("input",{type:"text",className:"flex-1 border rounded px-3 py-2",placeholder:"Nombre del ejercicio",value:m,onChange:e=>x(e.target.value)})]})}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 w-24",children:"Secci\xf3n:"}),(0,t.jsx)("select",{className:"flex-1 border rounded px-3 py-2",value:C,onChange:e=>D(e.target.value),children:[{value:"",label:"Selecciona una secci\xf3n"},{value:"Warm Up",label:"Warm Up"},{value:"Trabajo DS",label:"Trabajo DS"},{value:"Out",label:"Out"}].map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]})}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 w-24",children:"D\xeda:"}),(0,t.jsx)("select",{className:"flex-1 border rounded px-3 py-2",value:k,onChange:e=>S(e.target.value),children:[{value:"",label:"Selecciona un d\xeda"},{value:"1",label:"D\xeda 1"},{value:"2",label:"D\xeda 2"},{value:"3",label:"D\xeda 3"},{value:"4",label:"D\xeda 4"},{value:"5",label:"D\xeda 5"},{value:"6",label:"D\xeda 6"},{value:"7",label:"D\xeda 7"}].map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]})}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 w-24",children:"Series:"}),(0,t.jsx)("input",{type:"number",className:"flex-1 border rounded px-3 py-2",placeholder:"Series",value:h,onChange:e=>p(e.target.value)})]})}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 w-24",children:"Repeticiones:"}),(0,t.jsx)("input",{type:"number",className:"flex-1 border rounded px-3 py-2",placeholder:"Repeticiones",value:g,onChange:e=>v(e.target.value)})]})}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 w-24",children:"Peso (Kg):"}),(0,t.jsx)("input",{type:"number",className:"flex-1 border rounded px-3 py-2",placeholder:"Peso (Kg)",value:b,onChange:e=>j(e.target.value)})]})}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 w-24",children:"Tiempo (seg):"}),(0,t.jsx)("input",{type:"number",className:"flex-1 border rounded px-3 py-2",placeholder:"Tiempo (segundos)",value:f,onChange:e=>N(e.target.value)})]})}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 w-24",children:"Descanso (seg):"}),(0,t.jsx)("input",{type:"number",className:"flex-1 border rounded px-3 py-2",placeholder:"Descanso (segundos)",value:y,onChange:e=>w(e.target.value)})]})}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 w-24",children:"Media:"}),(0,t.jsx)("input",{type:"url",className:"flex-1 border rounded px-3 py-2",placeholder:"URL del video o imagen",value:L,onChange:e=>E(e.target.value)})]})}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)("button",{className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",onClick:()=>{d(!1),u(null)},children:"Cancelar"}),(0,t.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{console.log("=== DEBUG EDITAR EJERCICIO ==="),console.log("editExercise:",c),console.log("routine completa:",s),console.log("routine.id:",null===s||void 0===s?void 0:s.id),console.log("routine.routine_id:",null===s||void 0===s?void 0:s.routine_id),console.log("routine.client_id:",null===s||void 0===s?void 0:s.client_id),console.log("Todas las propiedades de routine:",Object.keys(s||{}));const e=(null===s||void 0===s?void 0:s.id)||(null===s||void 0===s?void 0:s.routine_id)||(null===s||void 0===s?void 0:s.client_id);var l;if(console.log("routineId detectado:",e),!s||!e)return console.error("Error: ID de rutina no encontrado",{routine:s,routineId:e,availableKeys:Object.keys(s||{}),routineType:typeof s,routineConstructor:null===s||void 0===s||null===(l=s.constructor)||void 0===l?void 0:l.name}),void alert("Error: No se encontr\xf3 el ID de la rutina. Por favor, recarga la p\xe1gina.");const t={...c,name:m,sets:h,reps:g,weight:b,time:f,rest:y,day:k,section:C,media:L};console.log("Datos a guardar:",t),console.log("Llamando onUpdateRoutine con:",{id:e,action:"editExercise",data:t}),a({id:e,action:"editExercise",data:t}),d(!1),u(null),x(""),p(""),v(""),j(""),N(""),w(""),S(""),D(""),E("")},disabled:!m.trim(),children:"Guardar"})]})]})})]})}}}]);
//# sourceMappingURL=324.6a23dfa3.chunk.js.map